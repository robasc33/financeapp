//>>built
define("loan/LoanInput","dojo/_base/declare dojo/on dojo/_base/lang dijit/registry dojo/currency dojox/charting/Chart dojox/charting/plot2d/Pie dojox/charting/action2d/Highlight dojox/charting/action2d/MoveSlice dojox/charting/action2d/Tooltip dojox/charting/themes/Dollar dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!loan/templates/LoanInput.html dijit/form/CurrencyTextBox dijit/form/NumberSpinner dijit/form/ComboBox".split(" "),function(c,p,a,q,r,d,s,e,f,g,h,k,l,
m,n){return c("loan.LoanInput",[k,l,m],{templateString:n,principal:0,interestPaid:0,monthlyPayment:0,chart:{},constructor:function(){},postMixInProperties:function(){},postCreate:function(){this.inherited(arguments);this._createChart();this.own(this.amountNode.on("change",a.hitch(this,"_calculate")),this.termNode.on("change",a.hitch(this,"_calculate")),this.rateNode.on("change",a.hitch(this,"_calculate")))},_calculate:function(){this.principal=this.amountNode.get("value");if(NaN==this.principal)this.interestPaid=
this.principal=this.monthlyPayment=0;else{var b=this.rateNode.get("value")/1200,a=12*this.termNode.get("value");this.monthlyPayment=Math.pow(1+b,a)-1;this.monthlyPayment=b+b/this.monthlyPayment;this.monthlyPayment*=this.principal;this.interestPaid=this.monthlyPayment*a-this.principal}NaN==this.monthlyPayment&&(this.monthlyPayment=0);b=dojo.currency.format(this.monthlyPayment,{currency:"USD"});this.monthlyPaymentNode.innerHTML=b;this._updateChart()},_createChart:function(){this.chart=new d(this.pieChartNode,
null);this.chart.setTheme(h);this.chart.addPlot("default",{type:"Pie",labelOffset:-30,radius:90});this.chart.addSeries("paymentSeries",[]);new f(this.chart,"default");new e(this.chart,"default");new g(this.chart,"default")},_updateChart:function(){this.chart.updateSeries("paymentSeries",[{y:this.principal,stroke:"black",tooltip:"Principal"},{y:this.interestPaid,stroke:"black",tooltip:"Interest"}]);this.chart.render()}})});require({cache:{"url:loan/templates/LoanInput.html":'\x3cdiv class\x3d"LoanInput"\x3e\n\t\x3cdiv\x3e\n\t\tLoan Amount: \x3cinput type\x3d"text"\n\t\t\tdata-dojo-type\x3d"dijit.form.CurrencyTextBox"\n\t\t\tdata-dojo-props\x3d"currency: \'USD\'" data-dojo-attach-point\x3d"amountNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t\tInterest Rate: \x3cinput data-dojo-type\x3d"dijit.form.NumberSpinner"\n\t\t\tdata-dojo-props\x3d"value:5,\n                             smallDelta:0.05,\n                             intermediateChanges:true,\n                             constraints:{min: 0}"\n\t\t\tdata-dojo-attach-point\x3d"rateNode"\x3e\n\t\x3c/div\x3e\n\t\x3cdiv\x3e\n\t\tTerm (years): \x3cselect name\x3d"select"\n\t\t\tdata-dojo-type\x3d"dijit.form.ComboBox"\n\t\t\tdata-dojo-props\x3d"autocomplete:false"\n\t\t\tdata-dojo-attach-point\x3d"termNode"\x3e\n\t\t\t\x3coption\x3e1\x3c/option\x3e\n\t\t\t\x3coption\x3e2\x3c/option\x3e\n\t\t\t\x3coption\x3e3\x3c/option\x3e\n\t\t\t\x3coption\x3e4\x3c/option\x3e\n\t\t\t\x3coption\x3e5\x3c/option\x3e\n\t\t\t\x3coption\x3e10\x3c/option\x3e\n\t\t\t\x3coption selected\x3d"selected"\x3e15\x3c/option\x3e\n\t\t\t\x3coption\x3e30\x3c/option\x3e\n\t\t\x3c/select\x3e\n\t\t\n\t\t\x3c!--  display monthly payment --\x3e\n\t\t\x3cdiv\x3eMonthly Payment: \x3cspan data-dojo-attach-point\x3d"monthlyPaymentNode"\x3e\x3c/span\x3e\x3c/div\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"pieChartNode"\x3e\x3c/div\x3e\t\n\t\x3c/div\x3e\n\x3c/div\x3e'}});
//@ sourceMappingURL=LoanInput.js.map